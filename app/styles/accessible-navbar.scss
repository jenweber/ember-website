@import 'variables';

$nav-color: #ffffff;
$nav-background-hover-color: #165f72;
$nav-border-color: lighten(#1f97b0,10%);
$nav-item-width: 10em;
$nav-togglemenu-color: #fff;
$nav-togglemenu-background-color: #165f72;

a {
  color: inherit; /*transition: all 300ms linear;*/ }

/* Resets */
.nav-container, #nav, #nav ul, #nav li {
  margin: 0;
  padding: 5px;
  border: 0;
  list-style: none;
  box-sizing: border-box; }

/*
 *	Accessible Multi-Level Dropdown Navigation Menu
 *	Created by Ire Aderinokun
 *
 */

.nav-container {
  background-color: $background-dark;
  min-height: $nav-min-height;
}
#nav {
  position: relative;
  max-width: 100%;
  color: $nav-color;
  margin-bottom: -3px;
}
  @media screen and (min-width: 40em) {
    #nav {
      display: inline-block; } }
  @media screen and (max-width: 40em) {
    #nav {
      display: block; } }

#nav li {
  position: relative;
  margin-top: 1.5em;
  top: 50%;
  transform: translateY(-50%); }

#nav a {
  text-decoration: none;
  height: 100%;
  display: block;
  padding: 0 1em; }

#nav a .logo {
  height: $nav-min-height;
  width: auto; }

@media screen and (min-width: 40em) {
  #nav a:focus {
    outline: none; } }

.plusMark {
  margin-left: .5em;
  font-size: 1em;
  font-weight: 700; }

@media screen and (min-width: 40em) {
  #nav li {
    text-align: left;
    width: $nav-item-width; } }
@media screen and (max-width: 40em) {
  #nav li {
    text-align: left;
    width: 100%; } }

/* Any sub menu */
@media screen and (min-width: 40em) {
  a + ul {
    position: absolute; }
    a + ul:not(.js-showElement) {
      display: none; } }
@media screen and (max-width: 40em) {
  a + ul {
    position: relative; }
    a + ul:not(.js-hideElement) {
      display: block; } }

/* The Main Navigation Bar - Navigation Level One */
#nav > ul {
  height: 100%;
  line-height: $nav-min-height; }

#nav > ul > li {
  position: relative;
  text-align: left; }
  @media screen and (min-width: 40em) {
    #nav > ul > li {
      float: left;
      width: auto; } }
  @media screen and (max-width: 40em) {
    #nav > ul > li {
      float: none;
      display: block;
      width: 100%; } }

#nav > ul > li > a {
  background-color: $background-dark; }
  #nav > ul > li > a:hover, #nav > ul > li > a:focus, #nav > ul > li > a.js-openSubMenu {
    background-color: $nav-background-hover-color; }

#nav > ul > li:hover > a, #nav > ul > li:focus > a {
  background-color: $nav-background-hover-color; }

@media screen and (max-width: 40em) {
  #nav > ul > li:not(:last-child) {
    border-right: none;  }
    #nav > ul > li:not(:last-child):not(:first-child) {
      border-bottom: 1px solid $nav-border-color; } }

#nav > ul > li:not(#toggleMenu):not(.js-showElement) {
  /* first level nav li except toggleMenu icon */ }
  @media screen and (min-width: 40em) {
    #nav > ul > li:not(#toggleMenu):not(.js-showElement) {
      display: inline-block; } }
  @media screen and (max-width: 40em) {
    #nav > ul > li:not(#toggleMenu):not(.js-showElement) {
      display: none; } }

@media screen and (min-width: 40em) {
  #nav #toggleMenu {
    display: none; } }
@media screen and (max-width: 40em) {
  #nav #toggleMenu {
    display: block;
    width: 100%; }
    #nav #toggleMenu.js-open {
      border-bottom: 1px solid $nav-border-color; }
      #nav #toggleMenu.js-open .icon-menu-closed {
        display: inline-block; }
      #nav #toggleMenu.js-open .icon-menu {
        display: none; }
      #nav #toggleMenu.js-open a {
        background-color: $nav-background-hover-color; }
    #nav #toggleMenu:not(.js-open) .icon-menu-closed {
      display: none; }
    #nav #toggleMenu:not(.js-open) .icon-menu {
      display: inline-block; } }

span#toggleMenu-text {
  position: absolute;
  opacity: 0; }

/* Second Level Dropdown */
#nav > ul > li > ul {
  background-color: $nav-background-hover-color; }
  @media screen and (min-width: 40em) {
    #nav > ul > li > ul {
      top: $nav-min-height;
      left: -1px; } }
  @media screen and (max-width: 40em) {
    #nav > ul > li > ul {
      width: 100%;
      position: relative; }
      #nav > ul > li > ul:not(.js-showElement) {
        display: none; } }

#nav > ul > li > ul > li > a {
  background-color: $background-dark; }
  #nav > ul > li > ul > li > a:hover, #nav > ul > li > ul > li > a:focus {
    background-color: $nav-background-hover-color; }

#nav > ul > li > ul > li:not(:last-child) a {
  border-bottom: 1px solid $nav-border-color; }

/* Third Level Dropdown */
@media screen and (min-width: 40em) {
  #nav > ul > li > ul > li > ul {
    top: 0;
    left: $nav-item-width;
    /* width of ul */ } }
@media screen and (max-width: 40em) {
  #nav > ul > li > ul > li > ul {
    width: 100%;
    position: relative; }
    #nav > ul > li > ul > li > ul:not(.js-showElement) {
      display: none; } }

#nav > ul > li > ul > li > ul > li > a {
  background-color: $background-dark; }
  #nav > ul > li > ul > li > ul > li > a:hover, #nav > ul > li > ul > li > ul > li > a:focus {
    background-color: $nav-border-color; }

#nav > ul > li > ul > li > ul > li:not(:last-child) > a {
  border-bottom: 1px solid $nav-border-color; }

/* Javascript classes */
#nav .js-hideElement {
  display: none; }

#nav .js-showElement {
  display: block; }

/* Fallback for users without javascript */
html.no-js li:hover > a + ul, html.no-js li:focus > a + ul {
  display: block; }
@media screen and (max-width: 40em) {
  html.no-js #nav:hover > ul > li:not(#toggleMenu), html.no-js #nav:focus > ul > li:not(#toggleMenu) {
    display: block; }
  html.no-js #nav:hover li:hover > a + ul, html.no-js #nav:hover li:focus > a + ul, html.no-js #nav:focus li:hover > a + ul, html.no-js #nav:focus li:focus > a + ul {
    display: block; } }

#nav > ul > li#toggleMenu > a { background-color: $nav-togglemenu-background-color; color: $nav-togglemenu-color; }
#nav > ul > li#toggleMenu > a:focus { background-color: darken($nav-togglemenu-background-color,20%); }
